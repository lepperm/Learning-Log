---
layout: page
title: Tasks
exclude: false
permalink: /todo/
jsfiles:
cssfiles:
---

<div id="todoIntro"></div>

{%- comment -%}
=======================
Collect data from all skill pages
=======================
{%- endcomment -%}

{%- assign todoCounter = 0 -%}
{%- assign openTasks = '' | split: ',' -%}

{%- for skillPage in site.skills -%}

  {%- if skillPage.progressionEntries != null -%}

    {%- assign itemsIP = '' | split: ',' -%}
    {%- assign itemsUN = '' | split: ',' -%}

    {%- for progEntries in skillPage.progressionEntries -%}

      {%- if progEntries.status == 'IP' -%}
        {%- assign itemsIP = itemsIP | push:progEntries.id -%}
      {%- elsif progEntries.status == 'UN' -%}
        {%- assign itemsUN = itemsUN | push:progEntries.id -%}
      {%- elsif progEntries.status == 'NS' -%}
        {%- assign unstartedTask = skillPage.name | append: "," | append: progEntries.id | append: "," | append: progEntries.name -%}
        {%- assign openTasks = openTasks | push:unstartedTask -%}
      {%- endif -%}

    {%- endfor -%}

    {%- if itemsIP.size > 0 or itemsUN.size > 0 -%}
      <h3>{{ skillPage.fullname }}</h3>

      {%- if itemsIP.size > 0-%}
        In Progress:
        <ul>
          {%- for item in itemsIP -%}
            {%- assign todoCounter = todoCounter | plus: 1 -%}
            {% assign taskIPs = skillPage.progressionEntries | where: "id", item %}

            {%- for taskIP in taskIPs -%}
              <li>
                <a href="{{ taskIP.item }}" target="_blank" class="nav-icon inlineElem" alt="Open in new window" title="Open in new window">{%- include icons/open-in-new.svg -%}</a>
                <text class="inlineElem">&nbsp;&nbsp;{{ taskIP.name }}&nbsp;&nbsp;</text>
                <a href="{{ site.baseurl }}/skills/{{ skillPage.name }}#{{ taskIP.id }}" class="nav-icon" alt="Jump to skill entry" title="Jump to skill entry">{%- include icons/link-variant.svg -%}</a>
              </li>
            {%- endfor -%}
          {%- endfor -%}
        </ul>
      {%- endif -%}

      {%- if itemsUN.size > 0-%}
        Up Next:
        <ul>
          {%- for item in itemsUN -%}
            {%- assign todoCounter = todoCounter | plus: 1 -%}
            {% assign taskUNs = skillPage.progressionEntries | where: "id", item %}

            {%- for taskUN in taskUNs -%}
              <li>
                <a href="{{ taskUN.item }}" target="_blank" class="nav-icon inlineElem" alt="Open in new window" title="Open in new window">{%- include icons/open-in-new.svg -%}</a>
                <text class="inlineElem">&nbsp;&nbsp;{{ taskUN.name }}&nbsp;&nbsp;</text>
                <a href="{{ site.baseurl }}/skills/{{ skillPage.name }}#{{ taskUN.id }}" class="nav-icon" alt="Jump to skill entry" title="Jump to skill entry">{%- include icons/link-variant.svg -%}</a>
              </li>
            {%- endfor -%}
          {%- endfor -%}
        </ul>
      {%- endif -%}
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}
{%- if todoCounter == 0 -%}
  <script>
    const todoIntroDiv = document.getElementById("todoIntro");
    const suggList = document.createElement('ul');
    todoIntroDiv.innerHTML = "No tasks currently marked as up next! Why not try setting one now?";
    todoIntroDiv.appendChild(suggList);

    {%- assign randomTasks = openTasks | sample: 1 -%}
    {%- for randomTask in randomTasks -%}
      {%- assign splitTask = randomTasks | split:"," -%}
      {%- assign rskillName = splitTask[0] -%}
      {%- assign rtaskID = splitTask[1] -%}
      {%- assign rtaskName = splitTask[2] -%}

      let suggBul = document.createElement('li');
      let suggLink = document.createElement('a');
      let suggText = document.createTextNode("{{rskillName}} item # {{rtaskID}}: {{ rtaskName }}");
      suggLink.setAttribute('href', "{{ site.baseurl }}/skills/{{ rskillName }}#{{ rtaskID }}");
      suggLink.appendChild(suggText);
      suggBul.appendChild(suggLink);
      suggList.appendChild(suggBul);
    {%- endfor -%}
  </script>

{%- else -%}
  <script>
    document.getElementById("todoIntro").innerHTML = "The following {{todoCounter}} learning items are marked as active:"
  </script>
{%- endif -%}